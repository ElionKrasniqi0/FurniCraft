@model FurniCraft.Enum.OrderStatus
@{
    var statusSteps = new[]
    {
        (FurniCraft.Enum.OrderStatus.Received, "Received", "fas fa-inbox"),
        (FurniCraft.Enum.OrderStatus.Verified, "Verified", "fas fa-check-circle"),
        (FurniCraft.Enum.OrderStatus.Processing, "Processing", "fas fa-cog"),
        (FurniCraft.Enum.OrderStatus.Shipped, "Shipped", "fas fa-shipping-fast"),
        (FurniCraft.Enum.OrderStatus.Completed, "Completed", "fas fa-check")
    };

    var currentStatusIndex = Array.FindIndex(statusSteps, s => s.Item1 == Model);
}

<div class="order-status-progress">
    <div class="progress-bar">
        <div class="progress-fill" style="width: @(currentStatusIndex * 25)%"></div>
    </div>
    <div class="step">
        @for (int i = 0; i < statusSteps.Length; i++)
        {
            var (status, displayName, icon) = statusSteps[i];
            var isCurrent = i == currentStatusIndex;
            var isCompleted = i < currentStatusIndex;
            <div class="step-item @(isCurrent ? "active" : "")">
                <i class="@icon"></i>
                <br />
                <span>@displayName</span>
            </div>
        }
    </div>
</div>

<style>
    .order-status-progress {
        width: 100%;
        max-width: 400px;
        margin: 0 auto;
        padding: 15px 0;
    }

    .progress-bar {
        height: 10px;
        background: #dee2e6;
        border-radius: 5px;
        overflow: hidden;
        position: relative;
    }

    .progress-fill {
        height: 100%;
        background: #ff6b6b;
        border-radius: 5px;
        transition: width 0.5s ease;
    }

    .step {
        display: flex;
        justify-content: space-between;
        margin-top: 5px;
        font-size: 0.8em;
        color: #6c757d;
    }

    .step-item {
        text-align: center;
        width: 20%;
    }

        .step-item.active {
            color: #3b5d50;
            font-weight: 600;
        }

        .step-item i {
            font-size: 1rem;
            margin-bottom: 5px;
        }
    /* Ensure the progress bar is visible */
    .progress-bar {
        background: #dee2e6;
    }

    .progress-fill {
        background: #ff6b6b;
    }
</style>